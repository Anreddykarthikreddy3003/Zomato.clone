{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anred\\\\Desktop\\\\Final Product\\\\final-product\\\\client\\\\src\\\\components\\\\Filter\\\\SearchPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport SearchFilterBox from \"./SearchFilterBox\";\nimport SearchResult from \"./SearchResult\";\nimport FilterPagination from \"./FilterPagination\";\nimport Navbar from \"../Nav/Navbar\";\nimport axios from \"axios\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchPage() {\n  _s();\n\n  let [searchList, setSearchList] = useState([]);\n  let [location, setLocation] = useState([]);\n  let [searchParams] = useSearchParams();\n  let [filterObj, setFilterObj] = useState({});\n  let [pageCount, setPageCount] = useState(0);\n\n  let getFilterData = async _filterObj => {\n    _filterObj = { ..._filterObj\n    };\n    let URL = \"http://localhost:8080/api/filter\";\n\n    if (searchParams.get(\"meal_type\")) {\n      _filterObj[\"mealtype\"] = searchParams.get(\"meal_type\");\n    }\n\n    try {\n      let response = await axios.post(URL, _filterObj);\n      let {\n        result,\n        pageCount\n      } = response === null || response === void 0 ? void 0 : response.data;\n      setSearchList(...[result]);\n      setPageCount(pageCount);\n    } catch (error) {\n      alert(error);\n    }\n  }; // useEffect(() => {\n  //   getFilterData();\n  // }, []);\n\n\n  let getLocationDropdownData = async () => {\n    try {\n      let URL = \"http://localhost:8080/api/get-location\";\n      let response = await axios.get(URL);\n      let {\n        status,\n        location\n      } = response.data;\n\n      if (status) {\n        setLocation([...location]);\n      } else {\n        alert(\"Looks like Input is missing\");\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  useEffect(() => {\n    getLocationDropdownData();\n  }, []); //SwitchStatements\n\n  let filterData = (event, option) => {\n    let {\n      value\n    } = event.target;\n    let _filterObj = {};\n\n    switch (option) {\n      case \"location\":\n        _filterObj[\"location\"] = value;\n        break;\n\n      case \"sort\":\n        _filterObj[\"sort\"] = value;\n        break;\n\n      case \"cuisine\":\n        let checked = event.target.checked; // console.log(checked);\n\n        let cuisine = filterObj.cuisine == undefined ? [] : [...filterObj.cuisine];\n\n        if (checked) {\n          let isAvailable = cuisine.includes(Number(value));\n          if (isAvailable === false) cuisine.push(Number(value));\n        } else {\n          let position = cuisine.indexOf(Number(value));\n          cuisine.splice(position, 1);\n        }\n\n        if (cuisine.length > 0) {\n          _filterObj[\"cuisine\"] = cuisine;\n        }\n\n        break;\n\n      case \"cost\":\n        let cost = value.split(\"-\");\n        _filterObj[\"lcost\"] = cost[0];\n        _filterObj[\"hcost\"] = cost[1];\n        break;\n\n      case \"page\":\n        _filterObj[\"page\"] = value;\n        break;\n\n      default:\n        break;\n    }\n\n    setFilterObj({ ...filterObj,\n      ..._filterObj\n    }); // console.log(filterObj);\n  };\n\n  useEffect(() => {\n    getFilterData(filterObj);\n  }, [filterObj]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"bg-danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row test\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-11 col-10 ms-lg-5 ms-2 ps-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"fs-lg-1 fs-4 fw-bolder mx-lg-5 mx-4 my-4 indexColor\",\n            children: `Best Places in this Area`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mx-lg-5 justify-content-between flex-lg-row flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(SearchFilterBox, {\n              location: location,\n              filterData: filterData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(SearchResult, {\n                searchList: searchList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FilterPagination, {\n                filterData: filterData,\n                pageCount: pageCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchPage, \"GaDyWrW6A8dfsWkVdx/i3n/qIHo=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useEffect","useState","SearchFilterBox","SearchResult","FilterPagination","Navbar","axios","useSearchParams","SearchPage","searchList","setSearchList","location","setLocation","searchParams","filterObj","setFilterObj","pageCount","setPageCount","getFilterData","_filterObj","URL","get","response","post","result","data","error","alert","getLocationDropdownData","status","filterData","event","option","value","target","checked","cuisine","undefined","isAvailable","includes","Number","push","position","indexOf","splice","length","cost","split"],"sources":["C:/Users/Anred/Desktop/Final Product/final-product/client/src/components/Filter/SearchPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport SearchFilterBox from \"./SearchFilterBox\";\nimport SearchResult from \"./SearchResult\";\nimport FilterPagination from \"./FilterPagination\";\nimport Navbar from \"../Nav/Navbar\";\nimport axios from \"axios\";\nimport { useSearchParams } from \"react-router-dom\";\n\nexport default function SearchPage() {\n  let [searchList, setSearchList] = useState([]);\n  let [location, setLocation] = useState([]);\n  let [searchParams] = useSearchParams();\n  let [filterObj, setFilterObj] = useState({});\n  let [pageCount, setPageCount] = useState(0);\n\n  let getFilterData = async (_filterObj) => {\n    _filterObj = { ..._filterObj };\n    let URL = \"http://localhost:8080/api/filter\";\n\n    if (searchParams.get(\"meal_type\")) {\n      _filterObj[\"mealtype\"] = searchParams.get(\"meal_type\");\n    }\n    try {\n      let response = await axios.post(URL, _filterObj);\n      let { result, pageCount } = response?.data;\n      setSearchList(...[result]);\n      setPageCount(pageCount);\n    } catch (error) {\n      alert(error);\n    }\n  };\n  // useEffect(() => {\n  //   getFilterData();\n  // }, []);\n\n  let getLocationDropdownData = async () => {\n    try {\n      let URL = \"http://localhost:8080/api/get-location\";\n      let response = await axios.get(URL);\n      let { status, location } = response.data;\n      if (status) {\n        setLocation([...location]);\n      } else {\n        alert(\"Looks like Input is missing\");\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  useEffect(() => {\n    getLocationDropdownData();\n  }, []);\n\n  //SwitchStatements\n  let filterData = (event, option) => {\n    let { value } = event.target;\n    let _filterObj = {};\n    switch (option) {\n      case \"location\":\n        _filterObj[\"location\"] = value;\n        break;\n\n      case \"sort\":\n        _filterObj[\"sort\"] = value;\n        break;\n\n      case \"cuisine\":\n        let checked = event.target.checked;\n        // console.log(checked);\n\n        let cuisine =\n          filterObj.cuisine == undefined ? [] : [...filterObj.cuisine];\n        if (checked) {\n          let isAvailable = cuisine.includes(Number(value));\n          if (isAvailable === false) cuisine.push(Number(value));\n        } else {\n          let position = cuisine.indexOf(Number(value));\n          cuisine.splice(position, 1);\n        }\n        if (cuisine.length > 0) {\n          _filterObj[\"cuisine\"] = cuisine;\n        }\n\n        break;\n\n      case \"cost\":\n        let cost = value.split(\"-\");\n        _filterObj[\"lcost\"] = cost[0];\n        _filterObj[\"hcost\"] = cost[1];\n        break;\n      case \"page\":\n        _filterObj[\"page\"] = value;\n        break;\n      default:\n        break;\n    }\n    setFilterObj({ ...filterObj, ..._filterObj });\n    // console.log(filterObj);\n  };\n  useEffect(() => {\n    getFilterData(filterObj);\n  }, [filterObj]);\n\n  return (\n    <>\n      <Navbar bg=\"bg-danger\" />\n      <div className=\"container-fluid \">\n        <div className=\"row test\">\n          <div className=\"col-lg-11 col-10 ms-lg-5 ms-2 ps-0\">\n            <p className=\"fs-lg-1 fs-4 fw-bolder mx-lg-5 mx-4 my-4 indexColor\">\n              {`Best Places in this Area`}\n            </p>\n\n            <div className=\"d-flex mx-lg-5 justify-content-between flex-lg-row flex-column\">\n              <SearchFilterBox location={location} filterData={filterData} />\n              <div>\n                <SearchResult searchList={searchList} />\n                <FilterPagination\n                  filterData={filterData}\n                  pageCount={pageCount}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}